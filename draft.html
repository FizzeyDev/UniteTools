<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-lang="title">Unite Tools - Draft</title>
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="css/navbar.css" />
  <link rel="stylesheet" href="css/draft.css" />
</head>
<body>
  <div id="navbar-container"></div>

  <h1 id="title" data-lang="title">PokÃ©mon Unite Draft Simulator</h1>

  <!-- â”€â”€ Mode buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="draft-controls" class="draft-controls">
    <button class="mode-btn" data-mode="swap"       data-lang="mode_swap">Swap Ban Mode</button>
    <button class="mode-btn" data-mode="tournament" data-lang="mode_tournament">Tournament - 2 Bans</button>
    <button class="mode-btn" data-mode="classic"    data-lang="mode_classic">Tournament - 3 Bans</button>
    <button class="mode-btn" data-mode="reban"      data-lang="mode_reban">Reban Mode</button>
  </div>

  <!-- â”€â”€ Mode description â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="mode-description" class="mode-description">
    <div id="mode-title" data-lang="select_mode_title"></div>
    <div id="mode-text"  data-lang="select_mode_text"></div>
  </div>

  <!-- â”€â”€ Multiplayer toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <button id="mp-toggle-btn" style="display:flex;">
    ğŸŒ Multiplayer <i class="mp-chevron">â–¾</i>
  </button>

  <!-- â”€â”€ Multiplayer panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="mp-controls">
    <div class="mp-panel-header">
      <span class="mp-icon">ğŸŒ</span>
      <h3>Online Multiplayer</h3>
    </div>
    <div class="mp-section">
      <button id="create-room-btn" class="draft-btn mp-btn" disabled>ğŸ® Create a room</button>
      <p class="mp-hint">Select a draft mode first, then create your room.</p>
    </div>
    <div class="mp-divider">or</div>
    <div class="mp-section">
      <div class="mp-join-row">
        <input type="text" id="room-code-input" placeholder="ABC123"
               maxlength="6" class="mp-code-input" />
        <button id="join-room-btn" class="draft-btn mp-btn">ğŸ”— Join</button>
      </div>
      <label class="mp-spectator-label">
        <input type="checkbox" id="join-as-spectator" />
        <span>Join as spectator</span>
      </label>
    </div>
    <div id="mp-error" class="mp-error" style="display:none;"></div>
  </div>

  <!-- â”€â”€ Room banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="mp-room-banner" class="mp-room-banner" style="display:none;">
    <div class="mp-room-left">
      <span class="mp-room-label">Room:</span>
      <span id="mp-room-code" class="mp-room-code-display">------</span>
      <button id="mp-copy-code" class="mp-copy-btn">ğŸ“‹ Copy</button>
    </div>
    <div class="mp-room-right">
      <span id="mp-player-role"     class="mp-player-role"></span>
      <span id="mp-spectator-count" class="mp-spec-count"></span>
    </div>
    <div class="mp-online-indicators">
      <span>ğŸŸ£</span>
      <span id="mp-indicator-teamA" class="mp-indicator offline"></span>
      <span>ğŸŸ </span>
      <span id="mp-indicator-teamB" class="mp-indicator offline"></span>
    </div>
    <!-- Role selector â€” visible once inside a room -->
    <div id="mp-role-selector" class="mp-role-selector" style="display:none;">
      <span class="mp-role-label">Your role:</span>
      <button class="mp-role-btn" data-role="teamA">ğŸŸ£ Purple</button>
      <button class="mp-role-btn" data-role="teamB">ğŸŸ  Orange</button>
      <button class="mp-role-btn" data-role="spectator">ğŸ‘ Spectator</button>
    </div>
  </div>

  <!-- â”€â”€ Map selection â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="map-selection" class="map-selection">
    <p data-lang="tooltip_maps">Choose a map or leave it random</p>
    <div class="map-buttons">
      <button class="map-btn" data-map="groudon">
        <img src="assets/maps/spawn/groudon.png" alt="Groudon"><span>Groudon</span>
      </button>
      <button class="map-btn" data-map="kyogre">
        <img src="assets/maps/spawn/kyogre.png" alt="Kyogre"><span>Kyogre</span>
      </button>
      <button class="map-btn" data-map="rayquaza">
        <img src="assets/maps/spawn/rayquaza.png" alt="Rayquaza"><span>Rayquaza</span>
      </button>
    </div>
  </div>

  <!-- â”€â”€ Start / Reset / Undo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="start-reset-controls">
    <button id="start-draft" class="draft-btn" data-lang="start_draft" disabled>Start Draft</button>
    <button id="reset-draft" class="draft-btn" data-lang="reset" style="display:none;">Reset</button>
  </div>
  <button id="backBtn" style="display:none;">âª Undo</button>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DRAFT WINDOW
       3 colonnes : picks violet | galerie centrale | picks orange
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="draft-window">

    <!-- â”€â”€ Colonne GAUCHE : Purple Team â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="picks-teamA" class="team-picks-col">
      <div class="team-col-header">
        <div class="team-name">ğŸŸ£ Purple Team</div>
        <div class="team-bans" id="bans-teamA">
          <div class="ban-slot" data-team="teamA" data-index="0"></div>
          <div class="ban-slot" data-team="teamA" data-index="1"></div>
          <div class="ban-slot" data-team="teamA" data-index="2"></div>
        </div>
      </div>
      <div class="picks-list">
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
      </div>
    </div>

    <!-- â”€â”€ Colonne CENTRALE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="center-col">

      <!-- Info : map + turn + timer + switches -->
      <div id="center-info">
        <div id="map-display"></div>
        <div id="turn-display" style="display:none;"></div>
        <div id="mp-turn-indicator" class="mp-turn-indicator" style="display:none;"></div>

        <label class="switch">
          <input type="checkbox" id="enable-timer">
          <span class="slider"></span>
          <span class="switch-label" data-lang="enable_timer">Timer</span>
        </label>
        <div id="timer-settings">
          <input type="number" id="timer-value" value="20" min="5" max="120">
        </div>

        <label class="switch">
          <input type="checkbox" id="fearless-checkbox">
          <span class="slider"></span>
          <span class="switch-label">Fearless</span>
        </label>

        <div id="bubble-timer" style="display:none;">20s</div>
      </div>

      <!-- Gallery scrollable -->
      <div id="gallery-wrapper">
        <div id="gallery-controls">
          <div id="filters">
            <button data-role="def" class="filter-btn" data-lang="role_def">Def</button>
            <button data-role="atk" class="filter-btn" data-lang="role_atk">Atk</button>
            <button data-role="sup" class="filter-btn" data-lang="role_sup">Sup</button>
            <button data-role="spe" class="filter-btn" data-lang="role_spe">Spe</button>
            <button data-role="all" class="filter-btn" data-lang="role_all">All</button>
            <button data-role="unknown" class="filter-btn" data-lang="role_unknown">?</button>
          </div>
          <div id="sort-options">
            <label id="sort-label" for="sort-select" data-lang="sort_by">Sort:</label>
            <select id="sort-select">
              <option value="dex"  data-lang="pokedex_nb">PokÃ©dex</option>
              <option value="name" data-lang="pkmn_name">Name</option>
            </select>
            <input type="text" id="search-input" placeholder="Searchâ€¦" class="search-input">
          </div>
        </div>
        <section id="gallery"></section>
      </div>

      <!-- Recap affichÃ© dans la fenÃªtre centrale aprÃ¨s draft -->
      <div id="center-recap" style="display:none;">
        <div id="center-recap-header">
          <div id="center-recap-map"></div>
          <div id="center-recap-title"></div>
        </div>
        <div id="center-recap-teams"></div>
      </div>

    </div><!-- /#center-col -->

    <!-- â”€â”€ Colonne DROITE : Orange Team â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="picks-teamB" class="team-picks-col">
      <div class="team-col-header">
        <div class="team-name">ğŸŸ  Orange Team</div>
        <div class="team-bans" id="bans-teamB">
          <div class="ban-slot" data-team="teamB" data-index="0"></div>
          <div class="ban-slot" data-team="teamB" data-index="1"></div>
          <div class="ban-slot" data-team="teamB" data-index="2"></div>
        </div>
      </div>
      <div class="picks-list">
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
        <div class="slot" data-lang="pick">Pick</div>
      </div>
    </div>

  </div><!-- /.draft-window -->

  <!-- â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="not-your-turn-toast" class="not-your-turn-toast">ğŸš« Not your turn!</div>

  <!-- â”€â”€ Final Draft Result â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="final-draft" class="final-draft">
    <h2 data-lang="final_draft_title">Final Draft Result</h2>
    <div id="final-draft-teams"></div>
  </div>

  <!-- â”€â”€ Fearless series â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="fearless-series" class="fearless-series">
    <h2>Fearless Series Recaps</h2>
    <div id="series-recaps"></div>
    <div id="fearless-controls">
      <div id="fearless-map-reselect">
        <p class="fearless-map-label">Change map for next draft?</p>
        <div class="map-buttons fearless-map-buttons">
          <button class="map-btn fearless-map-btn" data-map="groudon">
            <img src="assets/maps/spawn/groudon.png" alt="Groudon"><span>Groudon</span>
          </button>
          <button class="map-btn fearless-map-btn" data-map="kyogre">
            <img src="assets/maps/spawn/kyogre.png" alt="Kyogre"><span>Kyogre</span>
          </button>
          <button class="map-btn fearless-map-btn" data-map="rayquaza">
            <img src="assets/maps/spawn/rayquaza.png" alt="Rayquaza"><span>Rayquaza</span>
          </button>
        </div>
      </div>
      <div class="fearless-action-btns">
        <button id="next-draft-btn" class="draft-btn">â–¶ Next Draft</button>
        <button id="end-series-btn" class="draft-btn draft-btn-danger">âœ• End Series</button>
      </div>
    </div>
  </div>

  <footer>
    <p>Created by Fizzey â€” PokÃ©mon Unite Draft Simulator</p>
  </footer>

  <script src="scripts/navbar.js"></script>
  <script type="module" src="scripts/drafts/main.js"></script>

  <script>
    // Multiplayer toggle
    document.getElementById('mp-toggle-btn').addEventListener('click', function() {
      this.classList.toggle('open');
      document.getElementById('mp-controls').classList.toggle('open');
    });
    // Timer settings visibility
    document.getElementById('enable-timer').addEventListener('change', function() {
      document.getElementById('timer-settings').style.display = this.checked ? 'block' : 'none';
    });
    // Fearless map re-select
    document.addEventListener('click', function(e) {
      const btn = e.target.closest('.fearless-map-btn');
      if (!btn) return;
      document.querySelectorAll('.fearless-map-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  </script>
</body>
</html>